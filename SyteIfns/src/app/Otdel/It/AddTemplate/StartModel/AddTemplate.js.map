{"version":3,"file":"AddTemplate.js","sourceRoot":"","sources":["AddTemplate.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, ViewChild } from '@angular/core';\r\nimport { ModelFull, NameDocument, Headers, Stone, Body } from '../Model/ModelTemplate'\r\nimport { LogicaTemplate} from '../Model/Tables'\r\nimport { ServiceWcf } from '../../../../ModelService/ModelService';\r\nimport { GenerateParamService } from '../../../../FullSetting/CreateSetting';\r\nimport { TemplateAdd, ServiceModel } from '../../../../PostZaprosFull/PostFull';\r\nimport { deserialize } from 'class-transformer';\r\nimport { ParametrSelectMail } from '../../../../ModelService/SelectCommand';\r\nimport { MatTableDataSource, MatPaginator } from '@angular/material';\r\nimport { TableTemplate } from '../../../../FullSetting/SelectTable/TableGenerator';\r\nimport { ControlTemplate } from '../../../../FullSetting/FormValidation/FormValidation'\r\nimport { MatDialog } from '@angular/material';\r\n@Component(({\r\n    selector: 'add-template',\r\n    templateUrl: '../Template/AddTemplate.html',\r\n    styleUrls: ['../Template/AddTemplate.css'],\r\n    providers: [ServiceModel, TemplateAdd, MatDialog]\r\n}) as any)\r\n\r\n    //Класс добавления шаблона\r\nexport class AddTemplate {\r\n\r\n    constructor(private service: ServiceModel, public dialog: MatDialog, public addtemp: TemplateAdd) { }\r\n    @ViewChild(MatPaginator) paginatordataSource: MatPaginator;\r\n    logica: LogicaTemplate = new LogicaTemplate();\r\n    modelfull: ModelFull = null;\r\n    wcf: ServiceWcf = null;\r\n\r\n    select: ParametrSelectMail = new ParametrSelectMail();\r\n    template: TableTemplate = new TableTemplate();\r\n    form: ControlTemplate = new ControlTemplate(this as AddTemplate,this.dialog,this.addtemp);\r\n\r\n\r\n    ngOnInit(): void {\r\n        try {\r\n            var generate = new GenerateParamService(13);\r\n            this.service.modelservice(generate.setting).subscribe((model) => {\r\n                this.wcf = deserialize(ServiceWcf, model.toString());\r\n                this.fullTemplate();\r\n            });\r\n        } catch (e) {\r\n            alert(e.toString());\r\n        }\r\n    }\r\n    //Подгрузка всех шаблонов в БД\r\n    fullTemplate() {\r\n        this.service.datacommandserver(this.select.generatecommandnotparam(this.wcf)).subscribe((model) => {\r\n            this.modelfull = deserialize(ModelFull, model.toString());\r\n            this.template.dataSource = new MatTableDataSource<NameDocument>(this.modelfull.NameDocument);\r\n            this.template.dataSource.paginator = this.paginatordataSource;\r\n            this.template.dataSourceBody = new MatTableDataSource<Body>(this.modelfull.Body);\r\n            this.template.dataSourceHeaders = new MatTableDataSource<Headers>(this.modelfull.Headers);\r\n            this.template.dataSourceStone = new MatTableDataSource<Stone>(this.modelfull.Stone);\r\n        });\r\n    }\r\n    //Добавления документа в БД\r\n    addtemplate() {\r\n        alert(JSON.stringify(this.form.document));\r\n        this.addtemp.addtemplate(this.form.document).subscribe(model => {\r\n            alert(JSON.stringify(model));\r\n        });\r\n        this.fullTemplate();\r\n    }\r\n}\r\n"]}