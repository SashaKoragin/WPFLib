{"version":3,"file":"StartComponent.js","sourceRoot":"","sources":["StartComponent.ts"],"names":[],"mappings":";;;;;;;;;AAAA,OAAO,EAAE,SAAS,EAAS,MAAM,eAAe,CAAC;AACjD,OAAO,EAAE,IAAI,EAAkB,OAAO,EAAE,MAAM,oBAAoB,CAAC;AACnE,OAAO,EAAE,WAAW,EAAE,MAAM,qCAAqC,CAAC;AAClE,OAAO,EAAE,YAAY,EAAE,MAAM,mBAAmB,CAAC;AAEjD,mDAAmD;AAOnD;IAMI,sBAAoB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;QAL5C,cAAS,GAAS,IAAI,CAAC;QACvB,UAAK,GAAY,IAAI,OAAO,EAAE,CAAC;QAC/B,WAAM,GAAW,IAAI,CAAC;QACtB,cAAS,GAAY,KAAK,CAAC;IAEoB,CAAC;IAEhD,+BAAQ,GAAR;QACI,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAED,2BAAI,GAAJ;QAAA,iBAQC;QAPG,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC,SAAS,CAAC,UAAC,KAAK;YAC3C,KAAI,CAAC,SAAS,GAAG,YAAY,CAAC,IAAI,EAAE,KAAe,CAAC,CAAC;YACrD,IAAI,KAAI,CAAC,SAAS,CAAC,kBAAkB,IAAI,IAAI,EAAE;gBAC3C,KAAI,CAAC,SAAS,GAAG,IAAI,CAAC;aACzB;QACD,CAAC,CACJ,CAAC;IACN,CAAC;IAED,0BAAG,GAAH,UAAI,IAAoB;QAAxB,iBAKC;QAJG,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,UAAC,KAAK;YAC9C,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;YACpC,KAAI,CAAC,IAAI,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,8BAAO,GAAP,UAAQ,KAAc;QAAtB,iBASC;QARG,IAAI;YACA,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,SAAS,CAAC,UAAC,KAAK;gBACjD,KAAI,CAAC,MAAM,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;gBACpC,KAAI,CAAC,IAAI,EAAE,CAAC;YAChB,CAAC,CAAC,CAAC;SACN;QAAC,OAAO,CAAC,EAAE;YACR,KAAK,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;SACvB;IACL,CAAC;IAtCQ,YAAY;QANxB,SAAS,CAAC,CAAC;YACR,QAAQ,EAAE,QAAQ;YAClB,WAAW,EAAE,4BAA4B;YACzC,SAAS,EAAE,CAAC,WAAW,CAAC;SAC3B,CAAO,CAAC;yCAQ4B,WAAW;OANnC,YAAY,CAwCxB;IAAD,mBAAC;CAAA,AAxCD,IAwCC;SAxCY,YAAY","sourcesContent":["import { Component, OnInit} from '@angular/core';\r\nimport { Face, FaceErrorField, FaceAdd } from '../Model/FaceError';\r\nimport { DataService } from '../../../../PostZaprosFull/PostFull';\r\nimport { plainToClass } from 'class-transformer';\r\n\r\n//По сути патерн MVVM только в рамках асинхронности\r\n@Component(({\r\n    selector: 'my-app',\r\n    templateUrl: '../Template/MergeFace.html',\r\n    providers: [DataService]\r\n})as any)\r\n\r\nexport class AppComponent implements OnInit {\r\n    facemodel: Face = null;\r\n    faces: FaceAdd = new FaceAdd();\r\n    server: string = null;\r\n    tableMode: boolean = false;\r\n\r\n    constructor(private dataservice: DataService) {}\r\n\r\n    ngOnInit(): void {\r\n        this.load();\r\n    }\r\n\r\n    load() {\r\n        this.dataservice.getfacepost().subscribe((model) => {\r\n            this.facemodel = plainToClass(Face, model as Object);\r\n            if (this.facemodel.SqlFaceErrorResult != null) {\r\n                this.tableMode = true;\r\n            }\r\n            }\r\n        );\r\n    }\r\n\r\n    del(face: FaceErrorField) {\r\n        this.dataservice.deleteface(face).subscribe((model) => {\r\n            this.server = JSON.stringify(model);\r\n            this.load();\r\n        });\r\n    }\r\n\r\n    addface(faces: FaceAdd) {\r\n        try {\r\n            this.dataservice.addfacemerge(faces).subscribe((model) => {\r\n                this.server = JSON.stringify(model);\r\n                this.load();\r\n            });\r\n        } catch (e) {\r\n            alert(e.toString());\r\n        }\r\n    }\r\n\r\n}"]}